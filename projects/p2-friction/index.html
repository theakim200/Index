<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sisters</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <!-- Opening screen / Waiting Room -->
    <div id="waiting-room" class="container">
        <div class="waiting-wrapper">
            <div class="waiting-container">
                <div class="title-container">
                    <h1 class="main-title">Sisters</h1>
                    <div class="status-container">
                        <p id="status-message">Waiting</p><span class="dots">.</span>
                    </div>
                    <button id="enter-button" class="hidden">Enter together</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Game Area -->
    <div id="game-area" class="container hidden">
        <div id="canvas-wrapper">
            <div id="canvas-container">
                <!-- Dynamic game content -->
            </div>
        </div>
    </div>

    <!-- Control UI -->
    <div id="controls">
        <button id="play-button" class="control-button">▶</button>
        <span id="episode-title">Sisters: Opening</span>
        <button id="info-button" class="control-button">i</button>
    </div>

    <!-- Firebase SDK -->
    <script type="module">        
        import { initializeApp } from "https://www.gstatic.com/firebasejs/11.8.1/firebase-app.js";
        import { getDatabase, ref, set, onValue, push, update, onDisconnect } from "https://www.gstatic.com/firebasejs/11.8.1/firebase-database.js";
        
        // Firebase configuration
        const firebaseConfig = {
            apiKey: "REMOVED_FOR_SECURITY", // 보안상 제거
            authDomain: "sisters-54e34.firebaseapp.com",
            databaseURL: "https://sisters-54e34-default-rtdb.firebaseio.com/",
            projectId: "sisters-54e34",
            storageBucket: "sisters-54e34.firebasestorage.app",
            messagingSenderId: "REMOVED", // 보안상 제거
            appId: "REMOVED", // 보안상 제거
            measurementId: "REMOVED" // 보안상 제거
        };
      
        // Initialize Firebase
        const app = initializeApp(firebaseConfig);
        const database = getDatabase(app);
        console.log("Firebase initialized!");
        
        // Make Firebase available to app.js
        window.app = app;
        window.database = database;
        window.dbRef = ref;
        window.dbSet = set;
        window.dbOnValue = onValue;
        window.dbPush = push;
        window.dbUpdate = update;
        window.dbOnDisconnect = onDisconnect;
    </script>
    
    <script src="app.js"></script>
</body>
</html>